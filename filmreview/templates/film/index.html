{% extends 'film/navbar.html' %}
{% load static %}

{% block title_block %}
Film Frantics
{% endblock %}

{% block additional_styles %}
	<script src="{% static 'js/index.js' %}"></script>

	<style>
		.search-box input[type="text"]{
			background: transparent url("{% static 'images/search.svg' %}") no-repeat 5px !important;
			background-size: 25px 25px !important;
			text-indent: 30px;
		}
	</style>
{% endblock %}
{% block body_block %}

<div id="homepage-box">
		<div class="search-box">
			<form action="{% url 'film:search' %}" method="GET">
				<input type="text" placeholder="Search for a movie..." name="query" id="nav-search-bar">
				<button type="submit" id="navSearchButton">Search</button>
			</form>
		</div>

		<h3 class="index-header">Popular Films:</h3>
			{% if movies %}
				<ul class="movie-list">
					{% for movie in movies %}
						<div class="movie-box">
							<li>
								<a href="{% url 'film:details' movie.id %}" class="movie-index-link">
									<img src="{{ movie.poster_url }}" alt="{{ movie.title }} Poster" class="moviePicture"/>
								<p class="index-movie-rating" id="index-movie-rating">{{ movie.average_rating }}</p>
								<p class="index-movie-title">{{ movie.title }}</p>
								</a>
							</li>
						</div>
					{% endfor %}
				</ul>
			{% else %}
				<p>No movies found</p>
			{% endif %}

		<h3 class="index-header">Trending Films:</h3>
		{% if trending_films %}
			<ul class="movie-list">
				{% for film in trending_films %}
					<div class="movie-box">
						<li>
							<a href="{% url 'film:details' film.id %}" class="movie-index-link">
								<img src="{{ film.poster_url }}" alt="{{ film.title }} Poster" class="moviePicture"/>
							<p class="index-movie-rating" id="index-movie-rating">{{ film.average_rating }}</p>
							<p class="index-movie-title">{{ film.title }}</p>
							</a>
						</li>
					</div>
				{% endfor %}
			</ul>
		{% else %}
			<p>No movies found</p>
		{% endif %}
</div>
{% endblock %}